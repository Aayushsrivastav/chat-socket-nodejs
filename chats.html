<!doctype html>
<html>
  <head>
    <title>Socket.IO chat</title>
<!--
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 13px Helvetica, Arial; }
      form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
      form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages li { padding: 5px 10px; }
      #messages li:nth-child(odd) { background: #eee; }
    </style>
-->
	  <style>
		  #messages{list-style-type: none;}
		  #messages li {
			  font-family: 'Noto Serif', serif, sans-serif;
			  font-style: italic;
			  font-size: 20px;
		  }
	  </style>
	  
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	  
  </head>
  <body>
	  
	  <nav class="navbar navbar-inverse">
		  <div class="container-fluid">
		    <div class="navbar-header">
			
			<a class="navbar-brand" style="
		  display: block;
		  letter-spacing: 2px;
		  font-size: 22px;
		  padding-bottom: 5px;
		  
		  font-family: 'Cinzel';
		" href="#">Enigma</a>
		    </div>
		    
		  </div>
	  </nav>
	  
	 
		    <ul id="messages">
			  </ul>
		    <form style="position: fixed;bottom: 0;width: 100%;" action="">
				<input type="hidden" id="name">
			<input class="col-xs-10 input-lg" id="m" autocomplete="off" style="border-color:darkgrey;" placeholder="Enter your text" required><button class="col-xs-2 btn-lg btn-info">Send</button>
		    </form>
	  
	  
	  
	  

	  
	  <script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<!--
<script>
  $(function () {
    var socket = io();
    $('form').submit(function(){
      socket.emit('chat message', $('#m').val());
      $('#m').val('');
      return false;
    });
  });
</script>
-->
<!--
	  <script>
  $(function () {
    var socket = io();
	  
    $('form').submit(function(){
      socket.emit('chat message', $('#m').val());
      $('#m').val('');
      return false;
    });
    socket.on('chat message', function(msg){ 
      $('#messages').append($('<li>').text($("#name").val()+ ": " + msg));
    });
  });
</script>
-->
	  <script>
  $(function () {
    var socket = io();
	  
    $('form').submit(function(){
		var newmessage = $("#name").val()+ ": " +$('#m').val(); 
      socket.emit('chat message', newmessage);
      $('#m').val('');
      return false;
    });
    socket.on('chat message', function(msg){ 
      $('#messages').append($('<li>').text(msg));
    });
  });
</script>
	  
	  <script>
	  		window.onload =function(){
				var url = document.location.href,
				  params = url.split('?')[1].split('&'),
				  data = {}, tmp;
			    for (var i = 0, l = params.length; i < l; i++) {
				   tmp = params[i].split('=');
				   data[tmp[0]] = tmp[1];
			    }
			    document.getElementById('name').value = data.name;
			}
	  </script>
  </body>
</html>
